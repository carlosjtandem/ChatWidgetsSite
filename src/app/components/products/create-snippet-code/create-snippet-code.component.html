<div class="containter-lg mt-4">
    <div class="row">
        <div class="col-lg-6 offset-lg-3">
            <div class="card">
                <div class="card-body">
                    <h3>Create snippet code</h3>
                    <span *ngIf="submitted && productForm.invalid" class="badge bg-danger">All fieldsa are required</span>
                    <form  [formGroup]="productForm" (ngSubmit)="onSubmit()">
                        <div class="row">
                            <div class="col">
                                <label for="environment" class="form-label">Environment</label>
                                <select formControlName="environment" class="form-select" aria-label="Default select example" id='environment'>
                                    <option *ngFor="let environment of environments" [ngValue]="environment.url">{{environment.name}}</option>
                                </select>
                            </div> 
                            <div class="col">
                                <label for="product" class="form-label">Product</label>
                                <select  formControlName="product" class="form-select" aria-label="Default select example"  id='product'>
                                    <option *ngFor="let product of products" [ngValue]="product">{{product.name}}</option>
                                  </select>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col">
                                <label for="bussinesUnit" class="form-label">Bussines Unit</label>
                                <input formControlName="bussinesUnit" class="form-control" type="text" value="Bussines Unit - KTP"  value={{productForm.value.product.bu}}  >
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col">
                                <label for="extraData" class="form-label">Extra data</label>
                                <input formControlName="extraData" type="text" class="form-control form-control-lg"
                                placeholder='dat:{}'>
                            </div>
                           
                        </div>
                   
                    <p>
                        <button type="button" class="btn btn-outline-primary" (click)="showSnippetCode()" [attr.aria-expanded]="!isCollapsed">
                          Show code snippet
                        </button>
                    </p>
                      <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
                        <div class="card">
                          <div class="card-body">
                            <pre><code [highlight]="code" [languages]="['javascript']" [lineNumbers]="true"></code>
                            </pre>
                          </div>
                        </div>
                      </div>
                      <div class="mt-3">
                        <!-- <button type='text' routerLink='/list-products' class="btn-secondary btn-lg mx-auto">Volver</button>
                        <button type="submit" class="btn-dark btn-lg mx-auto">Agregar</button> -->
                        <button type="button" routerLink='/list-products' class="btn btn-primary">Back</button>
                        <button type="submit" class="btn-dark btn-sm ml-3">Load chat widget</button>
                    </div>
                </form>
                </div>
            </div>
        </div>
    </div>

</div>
